<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>VexCL: vex::SpMat&lt; real, column_t &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">VexCL
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacevex.html">vex</a></li><li class="navelem"><a class="el" href="classvex_1_1SpMat.html">SpMat</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">vex::SpMat&lt; real, column_t &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Sparse matrix in ELL format.  
 <a href="classvex_1_1SpMat.html#details">More...</a></p>

<p><code>#include &lt;spmat.hpp&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for vex::SpMat&lt; real, column_t &gt;:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classvex_1_1SpMat__inherit__graph.png" border="0" usemap="#vex_1_1SpMat_3_01real_00_01column__t_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="vex_1_1SpMat_3_01real_00_01column__t_01_4_inherit__map" id="vex_1_1SpMat_3_01real_00_01column__t_01_4_inherit__map">
<area shape="rect" id="node2" href="classvex_1_1SpMatBase.html" title="Base class for sparse matrix." alt="" coords="29,6,205,50"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for vex::SpMat&lt; real, column_t &gt;:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classvex_1_1SpMat__coll__graph.png" border="0" usemap="#vex_1_1SpMat_3_01real_00_01column__t_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="vex_1_1SpMat_3_01real_00_01column__t_01_4_coll__map" id="vex_1_1SpMat_3_01real_00_01column__t_01_4_coll__map">
<area shape="rect" id="node2" href="classvex_1_1SpMatBase.html" title="Base class for sparse matrix." alt="" coords="29,6,205,50"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classvex_1_1SpMat-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a50f1f3e9d1be35426021a2c0f7e424f2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvex_1_1SpMat.html#a50f1f3e9d1be35426021a2c0f7e424f2">SpMat</a> (const std::vector&lt; cl::CommandQueue &gt; &amp;queue, size_t n, const size_t *row, const column_t *col, const real *val)</td></tr>
<tr class="memdesc:a50f1f3e9d1be35426021a2c0f7e424f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for ELL format.  <a href="#a50f1f3e9d1be35426021a2c0f7e424f2"></a><br/></td></tr>
<tr class="memitem:acae77d141617a11e707b4813e5dca847"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvex_1_1SpMat.html#acae77d141617a11e707b4813e5dca847">mul</a> (const <a class="el" href="classvex_1_1vector.html">vex::vector</a>&lt; real &gt; &amp;x, <a class="el" href="classvex_1_1vector.html">vex::vector</a>&lt; real &gt; &amp;y, real alpha=1, bool append=false) const </td></tr>
<tr class="memdesc:acae77d141617a11e707b4813e5dca847"><td class="mdescLeft">&#160;</td><td class="mdescRight">Matrix-vector multiplication.  <a href="#acae77d141617a11e707b4813e5dca847"></a><br/></td></tr>
<tr class="inherit_header pub_methods_classvex_1_1SpMatBase"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classvex_1_1SpMatBase')"><img src="closed.png" alt="-"/>&nbsp;Public Member Functions inherited from <a class="el" href="classvex_1_1SpMatBase.html">vex::SpMatBase< real, column_t ></a></td></tr>
<tr class="memitem:a9e8a63b8456855473b03c76e8d451c84 inherit pub_methods_classvex_1_1SpMatBase"><td class="memTemplParams" colspan="2"><a class="anchor" id="a9e8a63b8456855473b03c76e8d451c84"></a>
template&lt;uint N&gt; </td></tr>
<tr class="memitem:a9e8a63b8456855473b03c76e8d451c84"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>mul</b> (const <a class="el" href="classvex_1_1multivector.html">vex::multivector</a>&lt; real, N &gt; &amp;x, <a class="el" href="classvex_1_1multivector.html">vex::multivector</a>&lt; real, N &gt; &amp;y, real alpha=1, bool append=false) const </td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename real, typename column_t = size_t&gt;<br/>
class vex::SpMat&lt; real, column_t &gt;</h3>

<p>Sparse matrix in ELL format. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a50f1f3e9d1be35426021a2c0f7e424f2"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename real , typename column_t &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvex_1_1SpMat.html">vex::SpMat</a>&lt; real, column_t &gt;::<a class="el" href="classvex_1_1SpMat.html">SpMat</a> </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; cl::CommandQueue &gt; &amp;&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t *&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const column_t *&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const real *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for ELL format. </p>
<p>Constructs GPU representation of the matrix. Input matrix is in CSR format. GPU matrix utilizes ELL format and is split equally across all compute devices. When there are more than one device, secondary queue can be used to perform transfer of ghost values across GPU boundaries in parallel with computation kernel. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">queue</td><td>vector of queues. Each queue represents one compute device. </td></tr>
    <tr><td class="paramname">n</td><td>number of rows in the matrix. </td></tr>
    <tr><td class="paramname">row</td><td>row index into col and val vectors. </td></tr>
    <tr><td class="paramname">col</td><td>column numbers of nonzero elements of the matrix. </td></tr>
    <tr><td class="paramname">val</td><td>values of nonzero elements of the matrix. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="namespacevex.html#a61989abf337d9845cad96ce9e805fd56">vex::build_sources()</a>, and <a class="el" href="namespacevex.html#a8f26c8e437a976a1a4fdbf685674f450">vex::kernel_workgroup_size()</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="acae77d141617a11e707b4813e5dca847"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename real , typename column_t &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classvex_1_1SpMat.html">vex::SpMat</a>&lt; real, column_t &gt;::mul </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classvex_1_1vector.html">vex::vector</a>&lt; real &gt; &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classvex_1_1vector.html">vex::vector</a>&lt; real &gt; &amp;&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real&#160;</td>
          <td class="paramname"><em>alpha</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>append</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Matrix-vector multiplication. </p>
<p>Matrix vector multiplication (y = alpha Ax or y += alpha Ax) is performed in parallel on all registered compute devices. Ghost values of x are transfered across GPU boundaries as needed. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>input vector. </td></tr>
    <tr><td class="paramname">y</td><td>output vector. </td></tr>
    <tr><td class="paramname">alpha</td><td>coefficient in front of matrix-vector product </td></tr>
    <tr><td class="paramname">append</td><td>if set, matrix-vector product is appended to y. Otherwise, y is replaced with matrix-vector product. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classvex_1_1SpMatBase.html#a675d0386ec5562b8836478faab8c1609">vex::SpMatBase&lt; real, column_t &gt;</a>.</p>

<p>References <a class="el" href="namespacevex.html#adde6e399118c4e9c8fdb111d23d65698">vex::alignup()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="spmat_8hpp.html">spmat.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1
</small></address>
</body>
</html>
